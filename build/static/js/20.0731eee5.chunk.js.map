{"version":3,"file":"static/js/20.0731eee5.chunk.js","mappings":"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","sources":["components/Alert.jsx","components/Table.jsx","configs/columns.js","pages/RequestWithdrawList.jsx"],"sourcesContent":["// ** Third Party Components\r\nimport Swal from \"sweetalert2/dist/sweetalert2.js\";\r\nexport function AlertQuestion({ title, text, callback }) {\r\n  return Swal.fire({\r\n    title,\r\n    text,\r\n    icon: \"question\",\r\n    showCancelButton: true,\r\n    confirmButtonColor: \"#1F3E82\",\r\n    cancelButtonColor: \"#d33\",\r\n    confirmButtonText: \"OK\",\r\n  }).then(callback);\r\n}\r\nexport function AlertSuccess({ title, text, callback }) {\r\n  return Swal.fire({\r\n    title,\r\n    text,\r\n    icon: \"success\",\r\n    showCancelButton: true,\r\n    confirmButtonColor: \"#1F3E82\",\r\n    cancelButtonColor: \"#d33\",\r\n    confirmButtonText: \"OK\",\r\n  }).then(callback);\r\n}\r\nexport function AlertPopup({ title, text, timer = 3000, callback }) {\r\n  return Swal.fire({\r\n    title,\r\n    text,\r\n    icon: \"success\",\r\n    showConfirmButton: false,\r\n    timer: timer,\r\n  }).then(callback);\r\n}\r\nexport function AlertError({ title, text, callback }) {\r\n  return Swal.fire({\r\n    title,\r\n    text,\r\n    icon: \"error\",\r\n    showCancelButton: true,\r\n    confirmButtonColor: \"#1F3E82\",\r\n    cancelButtonColor: \"#d33\",\r\n    confirmButtonText: \"OK\",\r\n  }).then(callback);\r\n}\r\nexport function AlertErrorPopup({ title, text, callback }) {\r\n  return Swal.fire({\r\n    title,\r\n    text,\r\n    icon: \"error\",\r\n    showConfirmButton: false,\r\n    timer: 2000,\r\n  }).then(callback);\r\n}\r\n","import { Table as AntdTable } from \"antd\";\r\n\r\nconst onChange = (pagination, filters, sorter, extra) => {\r\n  console.log(\"params\", pagination, filters, sorter, extra);\r\n};\r\nconst Table = (props) => {\r\n  const { dataSource, columns } = props;\r\n  return (\r\n    <AntdTable\r\n      columns={columns}\r\n      dataSource={dataSource}\r\n      onChange={onChange}\r\n      pagination={{\r\n        pageSize: 5,\r\n      }}\r\n      bordered\r\n    />\r\n  );\r\n};\r\nexport default Table;\r\n","import { convertMongodbTimeToString, Sorter } from \"./../utils/utils\";\r\nimport Fallback from \"./../assets/fallback.jpg\";\r\nimport { withdraw } from \"../api/services/accountServices\";\r\nconst direction = [\"ascend\", \"descend\", \"\"];\r\nexport const categoryColumns = [\r\n  {\r\n    title: \"Tên thể loại\",\r\n    dataIndex: \"name\",\r\n  },\r\n  {\r\n    title: \"Mô tả\",\r\n    dataIndex: \"description\",\r\n  },\r\n];\r\nexport const requestColumns = [\r\n  {\r\n    title: \"User ID\",\r\n    dataIndex: \"user\",\r\n  },\r\n  {\r\n    title: \"Email Paypal\",\r\n    dataIndex: \"emailPaypal\",\r\n  },\r\n  {\r\n    title: \"Transactional Money\",\r\n    dataIndex: \"transactionalMoney\",\r\n  },\r\n  {\r\n    title: \"Option\",\r\n    dataIndex: \"_id\",\r\n    render: (id) => (\r\n      <button\r\n        onClick={() => {\r\n          const withdrawFunc = async () => {\r\n            const response = await withdraw(id);\r\n            window.location.replace(response);\r\n            localStorage.setItem(\"withdrawId\", id);\r\n          };\r\n          withdrawFunc();\r\n        }}\r\n        className=\"bg-primary text-white px-4 py-2 \"\r\n      >\r\n        Approve\r\n      </button>\r\n    ),\r\n  },\r\n];\r\nexport const accountColumns = [\r\n  {\r\n    title: \"Avatar\",\r\n    dataIndex: \"avatar\",\r\n    // specify the condition of filtering result\r\n    // here is that finding the name started with `value`\r\n    render: (pic) => (\r\n      <img src={Fallback} className=\"h-[2.5rem] w-auto\" alt=\"avatar\" />\r\n    ),\r\n    width: 50,\r\n  },\r\n  {\r\n    title: \"Tên\",\r\n    dataIndex: \"fullName\",\r\n    // specify the condition of filtering result\r\n    // here is that finding the name started with `value`\r\n    onFilter: (value, record) => record.fullName.indexOf(value) === 0,\r\n    sorter: (a, b) => a.fullName.length - b.fullName.length,\r\n    sortDirections: direction,\r\n  },\r\n  {\r\n    title: \"Email\",\r\n    dataIndex: \"email\",\r\n    defaultSortOrder: \"descend\",\r\n    onFilter: (value, record) => record.email.indexOf(value) === 0,\r\n    sorter: (a, b) => a.email - b.email,\r\n    sortDirections: direction,\r\n  },\r\n];\r\nexport const productColumns = [\r\n  {\r\n    title: \"Tên sản phẩm\",\r\n    dataIndex: \"auctionName\",\r\n    onFilter: (value, record) => record.auctionName.indexOf(value) === 0,\r\n    sorter: (a, b) => Sorter.sort(a.auctionName, b.auctionName),\r\n    sortDirections: direction,\r\n  },\r\n  {\r\n    title: \"Loại sản phẩm\",\r\n    dataIndex: \"categoryName\",\r\n    render: (text) => <span>{text}</span>,\r\n  },\r\n  {\r\n    title: \"Thời gian bắt đầu đấu giá\",\r\n    dataIndex: \"startAuctionTime\",\r\n    render: (text) => <span>{convertMongodbTimeToString(text)}</span>,\r\n  },\r\n  {\r\n    title: \"Thời gian kết thúc đấu giá\",\r\n    dataIndex: \"endAuctionTime\",\r\n    render: (text) => <span>{convertMongodbTimeToString(text)}</span>,\r\n  },\r\n  {\r\n    title: \"Chủ sở hữu\",\r\n    dataIndex: \"owner\",\r\n  },\r\n];\r\n","import React, { useEffect, useState } from \"react\";\r\n// import for table\r\nimport { SearchOutlined } from \"@ant-design/icons\";\r\nimport { Button, Input, Space, Spin } from \"antd\";\r\nimport { useRef } from \"react\";\r\nimport Highlighter from \"react-highlight-words\";\r\n// end import for table\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport { useFindAllRequestWithdraw } from \"../api/services/accountServices\";\r\nimport { Header } from \"../components\";\r\nimport Table from \"../components/Table\";\r\nimport { requestColumns } from \"../configs/columns\";\r\nimport axios from \"axios\";\r\nimport { AlertPopup } from \"../components/Alert\";\r\nimport httpRequest from \"../services/httpRequest\";\r\nconst RequestWithDrawPage = () => {\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const { data, status } = useFindAllRequestWithdraw();\r\n  const withdrawId = localStorage.getItem(\"withdrawId\");\r\n  // for table\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [searchedColumn, setSearchedColumn] = useState(\"\");\r\n  const searchInput = useRef(null);\r\n  const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    setSearchText(selectedKeys[0]);\r\n    setSearchedColumn(dataIndex);\r\n  };\r\n  const handleReset = (clearFilters) => {\r\n    clearFilters();\r\n    setSearchText(\"\");\r\n  };\r\n  const getColumnSearchProps = (dataIndex) => ({\r\n    filterDropdown: ({\r\n      setSelectedKeys,\r\n      selectedKeys,\r\n      confirm,\r\n      clearFilters,\r\n      close,\r\n    }) => (\r\n      <div\r\n        style={{\r\n          padding: 8,\r\n        }}\r\n        onKeyDown={(e) => e.stopPropagation()}\r\n      >\r\n        <Input\r\n          ref={searchInput}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={(e) =>\r\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n          }\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{\r\n            marginBottom: 8,\r\n            display: \"block\",\r\n          }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{\r\n              width: 90,\r\n            }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button\r\n            onClick={() => clearFilters && handleReset(clearFilters)}\r\n            size=\"small\"\r\n            style={{\r\n              width: 90,\r\n            }}\r\n          >\r\n            Reset\r\n          </Button>\r\n          <Button\r\n            type=\"link\"\r\n            size=\"small\"\r\n            onClick={() => {\r\n              confirm({\r\n                closeDropdown: false,\r\n              });\r\n              setSearchText(selectedKeys[0]);\r\n              setSearchedColumn(dataIndex);\r\n            }}\r\n          >\r\n            Filter\r\n          </Button>\r\n          <Button\r\n            type=\"link\"\r\n            size=\"small\"\r\n            onClick={() => {\r\n              close();\r\n            }}\r\n          >\r\n            close\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: (filtered) => (\r\n      <SearchOutlined\r\n        style={{\r\n          color: filtered ? \"#1890ff\" : undefined,\r\n        }}\r\n      />\r\n    ),\r\n    onFilter: (value, record) =>\r\n      record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\r\n    onFilterDropdownOpenChange: (visible) => {\r\n      if (visible) {\r\n        setTimeout(() => searchInput.current?.select(), 100);\r\n      }\r\n    },\r\n    render: (text) =>\r\n      searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{\r\n            backgroundColor: \"#ffc069\",\r\n            padding: 0,\r\n          }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : \"\"}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n  // end for table\r\n  useEffect(() => {\r\n    console.log({ withdrawId });\r\n    if (withdrawId) {\r\n      const fetch = async () => {\r\n        const response = await httpRequest({\r\n          url: \"/paypal/capture-order\",\r\n          method: \"POST\",\r\n          data: {\r\n            withdrawId: withdrawId,\r\n          },\r\n        });\r\n        console.log({ response });\r\n        alert(\"Successfully approved\");\r\n        localStorage.remove(\"withdrawId\");\r\n      };\r\n      fetch();\r\n    }\r\n  }, []);\r\n  return (\r\n    <div className=\"m-2 md:m-10 mt-24 p-2 md:p-10 bg-white rounded-3xl\">\r\n      <Header category={t(\"sider.management\")} title={\"Danh sách rút tiền\"} />\r\n      {status === \"loading\" ? (\r\n        <div className=\"w-full h-full flex items-center justify-center\">\r\n          <Spin />\r\n        </div>\r\n      ) : (\r\n        <Table columns={requestColumns} dataSource={data} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default RequestWithDrawPage;\r\n"],"names":["AlertPopup","title","text","timer","callback","Swal","icon","showConfirmButton","then","AlertErrorPopup","onChange","pagination","filters","sorter","extra","console","log","props","dataSource","columns","pageSize","bordered","direction","categoryColumns","dataIndex","requestColumns","render","id","onClick","withdrawFunc","withdraw","response","window","location","replace","localStorage","setItem","className","accountColumns","pic","src","alt","width","onFilter","value","record","fullName","indexOf","a","b","length","sortDirections","defaultSortOrder","email","productColumns","auctionName","Sorter","convertMongodbTimeToString","t","useTranslation","useNavigate","useFindAllRequestWithdraw","data","status","withdrawId","getItem","useState","useRef","useEffect","fetch","httpRequest","url","method","alert","remove","category"],"sourceRoot":""}